/* ============================================================================
   GLOBAL TEXT CLAMP RULES - CONSISTENT ACROSS ALL SCREEN SIZES
   ============================================================================ */

/* Case study summary text - consistently 3 lines on all devices */
[data-case-study-card] .case-study-summary,
.card-description {
	display: -webkit-box !important;
	-webkit-line-clamp: 3 !important;
	line-clamp: 3 !important;
	-webkit-box-orient: vertical !important;
	overflow: hidden !important;
	text-overflow: ellipsis !important;
	line-height: 1.5 !important;
	word-break: break-word !important;
}

/* ============================================================================
   MOBILE LAYOUT FIXES - CRITICAL FIXES FOR CARD CROPPING AND SPACING
   ============================================================================ */

/* Ensure no horizontal scrolling on mobile */
@media (max-width: 768px) {
	body,
	html {
		overflow-x: hidden !important;
		width: 100% !important;
		max-width: 100vw !important;
	}

	/* Main work page container - Remove conflicting padding */
	[data-work-page] {
		padding-left: 0 !important;
		padding-right: 0 !important;
		width: 100% !important;
		max-width: 100vw !important;
		box-sizing: border-box !important;
	}

	/* Featured Work section consistency - remove any maxWidth constraints */
	[data-maxwidth='l'] {
		max-width: 100% !important;
		padding-left: 0 !important;
		padding-right: 0 !important;
	}

	/* Grid system mobile fixes */
	[data-grid] {
		grid-template-columns: 1fr !important;
		gap: 20px !important;
		padding: 0 !important;
		margin: 0 !important;
		width: 100% !important;
		max-width: 100% !important;
		box-sizing: border-box !important;
		overflow: visible !important;
	}

	/* Case study cards - prevent cropping and ensure proper text display */
	.caseStudyCard,
	[data-case-study-card] {
		width: 100% !important;
		max-width: 100% !important;
		margin: 0 !important;
		padding: 0 !important;
		box-sizing: border-box !important;
		overflow: hidden !important;
		min-height: auto !important;
	}

	/* Ensure card content has proper spacing and text isn't cropped */
	[data-case-study-card] [data-column] {
		padding: 16px !important;
		min-height: auto !important;
		box-sizing: border-box !important;
	}

	/* Ensure content area has proper spacing */
	[data-case-study-card] [data-padding='m'] {
		padding: 18px !important;
	}

	/* Grid items spacing and containment */
	[data-grid] > * {
		width: 100% !important;
		max-width: 100% !important;
		margin: 0 !important;
		box-sizing: border-box !important;
		overflow: visible !important;
	}

	/* Remove excessive padding from Once UI components */
	[data-padding='l'],
	[data-paddingx='l'] {
		padding-left: 0 !important;
		padding-right: 0 !important;
	}
}

/* Extra small devices - Remove conflicting padding */
@media (max-width: 480px) {
	[data-work-page] {
		padding-left: 0 !important;
		padding-right: 0 !important;
	}
}

/* Mobile container improvements for better centering */
@media (max-width: 640px) {
	/* Prevent horizontal scrolling completely */
	html,
	body {
		overflow-x: hidden !important;
		max-width: 100vw !important;
	}

	/* Force container to take full width and center content */
	[data-fillwidth='true'] {
		width: 100% !important;
		max-width: 100% !important;
		margin-left: auto !important;
		margin-right: auto !important;
		box-sizing: border-box !important;
	}

	/* Grid column wrapper improvements - Ensure balanced spacing */
	[data-column][data-fillwidth='true'] {
		padding-left: 20px !important;
		padding-right: 20px !important;
		width: 100% !important;
		max-width: 100% !important;
		box-sizing: border-box !important;
	}

	/* Homepage Featured Work section - override any conflicting container styles */
	[data-maxwidth] {
		max-width: 100% !important;
		margin-left: 0 !important;
		margin-right: 0 !important;
		padding-left: 0 !important;
		padding-right: 0 !important;
		width: 100% !important;
	}

	/* Featured Work title section - mobile-specific padding override */
	.featured-work-title-section {
		padding-left: 20px !important;
		padding-right: 20px !important;
		width: 100% !important;
		max-width: 100% !important;
		box-sizing: border-box !important;
		margin-left: 0 !important;
		margin-right: 0 !important;
	}

	/* Case study card specific mobile optimizations */
	.caseStudyCard,
	[data-case-study-card] {
		width: 100% !important;
		max-width: 100% !important;
		margin: 0 !important;
		box-sizing: border-box !important;
		overflow: hidden !important;
	}

	/* Ensure card content stays within bounds */
	[data-case-study-card] * {
		box-sizing: border-box !important;
	}

	/* Ensure ModernCaseStudyGrid and CaseStudyGrid have consistent padding */
	[data-grid] {
		margin-left: 0 !important;
		margin-right: 0 !important;
		width: 100% !important;
	}

	/* Apply to both Modern and regular CaseStudyGrid components */
	[data-grid],
	.caseStudyGrid {
		margin-left: 0 !important;
		margin-right: 0 !important;
		width: 100% !important;
		max-width: 100% !important;
		box-sizing: border-box !important;
	}
}

/* Ensure carousel content doesn't overflow */
@media (max-width: 768px) {
	/* Featured Work title section - ensure consistent padding */
	.featured-work-title-section {
		padding-left: 20px !important;
		padding-right: 20px !important;
		width: 100% !important;
		max-width: 100% !important;
		box-sizing: border-box !important;
	}

	[data-carousel] {
		width: 100% !important;
		max-width: 100% !important;
		overflow: hidden !important;
	}

	[data-carousel] img {
		width: 100% !important;
		max-width: 100% !important;
		object-fit: cover !important;
	}

	/* Force all grid containers to be properly contained */
	[data-grid],
	[data-columns],
	.caseStudyGrid {
		width: 100% !important;
		max-width: 100% !important;
		margin: 0 !important;
		padding: 0 !important;
		overflow: hidden !important;
		box-sizing: border-box !important;
	}
}
